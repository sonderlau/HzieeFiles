# 离散数学

---





## 第一章 命题逻辑

### 1.1 命题和逻辑连接词

#### 1.1.1 命题

> 所谓**命题**，是指能区分真假的陈述句，这与中学数学中的命题定义是一样的。
>
> 命题可分为**真命题**和**假命题**。如果命题所表述的内容与客观实际相符，则称该命题是真命题；否则称之为假命题。 
>
> 命题的这种真假属性称为命题的**真值**。当一个命题是真命题时，我们称它的真值为“真”，用T表示；当一个命题是假命题时，我们称它的真值为“假”，用F表示。

#### 1.1.2 逻辑连接词与命题符号化

**否定词($\neg$)、合取词($\land$)、析取词($\lor$)、蕴涵词($\rightarrow$)和等值词($\leftrightarrow$)**

>否定词、析取词、合取词又常被称为**逻辑非（逻辑否）**、**逻辑加（逻辑或）**和**逻辑乘（逻辑与）**，是3个最基本的逻辑运算。

- 运算顺序（从左到右）
 $$\neg \ \ \land \ \ \lor \ \ \rightarrow \ \ \leftrightarrow$$

### 1.2 命题公式及其真值表

#### 1.2.1 命题公式

​    就像数学中有变量的概念一样，数理逻辑中也有**命题变元**的概念，它是用来表示任意命题的标识符，用小写英文字母表示，而1.1节的真值$T$（或1）和$F$（或0）又通常称为**命题常元**。

>在命题公式中，由于有命题变元的出现，因而真值是不确定的，所以命题公式本身不是命题。只有对命题公式中出现的每个命题变元都解释成具体的命题，才能将命题公式“翻译”成一个具体的复合命题，这实际上相当于通过对公式中的每一变元都确定一个真值来确定命题公式的真值。

#### 1.2.2 真值表

- 设$A$是以$p_{1}，p_{2}，p_{3}，\dots，p_{n}$为变元的命题公式，给$p_{1}，p_{2}，p_{3}，\dots，p_{n}$各指定一个真值，称为对$A$的一个**解释**(**赋值**，**真值指派**)。若指定的一组值使A的真值为$1$，则
  称这组值为$A$的**成真解释**(**成真赋值**，**成真指派**)；若使$A$的真值为$0$，则称这组值为$A$的
  **成假解释**（ **成假赋值**，**成假指派**）。
- 将命题公式$A$在所有解释下的取值情况列成表，称做$A$的**真值表**，一个命题
  公式如果含有$n$个命题变元，则它有$2^n$种解释，从而，真值表有$2n$行。

设A是一个命题公式

>- 若A在所有解释下取值均为真，则称$A$是**永真式**(**有效式**)。
>- 若A在所有解释下取值均为假，则称$A$是**永假式**(**矛盾式**)。
>- 若A不是永假式，则称$A$是**可满足式**。

**代替规则** 

>把一个永真式中的某个命题变元用一个命题公式处处代替，所得公式仍为永真式。把一个永假式中的某个命题变元用一个命题公式处处代替，所得公式仍为永假式。

### 1.3 命题公式的等价演算

- 设$A$和$B$是两个命题公式，如果在任何解释下，$A$和$B$都有相同的真值，则称$A$和$B$等价，记为$A = B$。
- 设A和B是两个命题公式，$A=B$的充要条件是$A \rightarrow B$是永真式。

*基本等价公式*

1. 双重否定律：$\neg \neg A=A$
2. 等幂律：$A \lor A = A \ ,\  \ A \land A = A$
3. 交换律：$A\lor B = B \lor A \ ,\ \ A \land B = B \land A$
4. 结合律：$A\lor (B\lor C)=(A\lor B)\lor C \\A\land (B\land C)=(A\land B)\land C$
5. 分配律：$A\lor (B\land C) = (A \lor B)\land(A\lor C)\\A\land (B\lor C) = (A \land B)\lor(A\land C)$
6. 德·摩根律：$\neg(A\lor B) = \neg A\land \neg B\ ,\ \ \neg(A\land B) = \neg A\lor \neg B$
7. 吸收律：$A\lor (A\land B) = A\ ,\ \ A\land (A\lor B) = A$
8. 零律：$A\lor 1 = 1 \ , \ \ A \land 0 = 0$
9. 单位律：$A\lor 0 = A \ , \ \ A\land 1 = A$
10. 否定律：$A\lor \neg A = 1 \ , \ \ A\land \neg A = 0$
11. 蕴含律：$A\rightarrow B = \neg A \lor B$
12. 等值律：$A\leftrightarrow B = (A\rightarrow B)\land (B\rightarrow A)$

**置换规则**

> 设$\phi (A)$为含有 公式4作为子公式的命题公式，$\phi (B)$是用公式B置换$\phi (A)$中的A (不要求处处置换)所得到的命题公式，若$A=B$,则$\phi (A)=\phi (B)$。

### 1.4 命题公式的范式

#### 1.4.1 析取范式与合取范式

- 有限个命题变元或其否定组成的合取式称为**初等积（简单合取式），**有限个命题变元或其否定组成的析取式称为**初等和（简单析取式）**。

$$A_{1}\lor A_{2}\lor \cdots \lor A_{m}$$

为**析取范式**。若这个析取范式与命题公式A等价，则称它为公式A的析取范式。

> 设$A_{i}(i=1,2,\cdots ,m,m\geq 1)$是初等积，称公式
>$$A_{1}\lor A_{2} \lor \cdots \lor A_{m}$$
> 为**析取范式**。若这个析取范式与命题公式A等价，则称它为公式A的析取范式。

>设$A_{i}(i=1,2,\cdots ,m,m\geq 1)$是初等和，称公式
>$$A_{1}\lor A_{2} \lor \cdots \lor A_{m}$$
>为**合取范式**。若这个合取范式与命题公式A等价，则称它为公式A的析取范式。

- **任意命题公式都存在与之等价的析取范式和合取范式。**

#### 1.4.2 标准析取范式和标准合取范式

- 如果在命题变元$p_{1}，p_{2}，\cdots，p_{n}$组成的初等积（初等和）中，每个变元或其否定出现且只出现一次，且第*i*个命题变元或它的否定出现在从左算起的第*i*位上（若命题变元无下标，就按字典序排序），则称该初等积（初等和）为的$p_{1}，p_{2}，\cdots，p_{n}$**最小项（最大项）**。
- 在析取范式中，若每个初等积都是最小项，且最小项按下标递增排序，则称该析取范式为**标准析取范式（主析取范式）**。若这个标准析取范式与命题公式等价，则称它为公式的标准析取范式。
- 在合取范式中，若每个初等和都是最大项，且最大项按下标递增排序，则称该合取范式为**标准合取范式（主合取范式）**。若这个标准合取范式与命题公式等价，则称它为公式的标准合取范式。
- 凡不是永假式的命题公式都存在唯一的与之等价的标准析取范式。
- 凡不是永真式的命题公式都存在唯一的与之等价的标准合取范式。

#### **1.4.3** 利用真值表求解标准范式

- 最小项具有如下性质：

  1. 对每个最小项而言，只有与下标编码相同的赋值是成真赋值，其余都是成假赋值；

  2. 任意两个不同的最小项的合取式是永假式；
  3. 全体最小项的析取式是永真式。

- 最大项具有如下性质：

  1. 对每个最大项而言，只有与下标编码相同的赋值是成假赋值，其余都是成真赋值；
  2. 任意两个不同的最大项的析取式是永真式。；
  3. 全体最大项的合取式是永假式。

- 在命题公式*A*的真值表中，所有成真赋值对应的最小项的析取式（按最小项下标递增排序）为公式*A*的唯一标准析取范式。

- 在命题公式*A*的真值表中，所有成假赋值对应的最大项的合取式（按最大项下标递增排序）为公式*A*的唯一标准合取范式。

#### **1.4.4** 标准析取范式和标准合取范式的关系

命题公式*A*的标准析取范式求*A*的标准合取范式的方法，其步骤如下：

>1. 求出*A*的标准析取范式中没有包含的最小项；
>2. 求出与1. 中最小项下标相同的最大项；
>3. 将2. 中求出的最大项按下标递增的顺序构成的合取式即为*A*的标准合取范式。
>

同样的，可以得到由*A*的标准合取范式求*A*的标准析取范式的方法，其步骤为如下：

>1. 求出*A*的标准合取范式中没有包含的最大项；
>
>2. 求出与1. 中最大项下标相同的最小项；
>
>3. 将2. 中求出的最小项按下标递增的顺序构成的析取式即为*A*的标准析取范式。

设*A*是含有*n*个命题变元的命题公式，则：

>*A*是永真式当且仅当*A*的标准析取范式含有全部2*n*个最小项；
>
> *A*是永假式当且仅当*A*的标准析取范式不含任何最小项（即标准析取范式为0）；
>
> *A*是可满足式当且仅当*A*的标准析取范式至少含有一个最小项。

设*A*是含有*n*个命题变元的命题公式，则：

>*A*是永假式当且仅当*A*的标准合取范式含有全部2*n*个最大项；
>
>*A*是永真式当且仅当*A*的标准合取范式不含任何最大项（即标准合取范式为1）；
>
> *A*是可满足式当且仅当*A*的标准合取范式不包含所有最大项。

### 1.5 命题公式的推理演示

- 设$A_{1},A_{2},\dots A_{n}$和$B$都是命题公式，如果对任何赋值，当$A_{1},A_{2},\dots A_{n}$都取值1时，$B$必取值1，则称由前提$A_{1},A_{2},\dots A_{n}$到结论$B$的推理是**有效的(正确的)**，或
  者称$B$是前提$A_{1},A_{2},\dots A_{n}$的*逻辑结论(有效结论)*，记为$A_{1},A_{2},\dots A_{n} \Rightarrow B$。
- 设$A_{1},A_{2},\dots A_{n}$和$B$都是命题公式，则$A_{1},A_{2},\dots A_{n} \Rightarrow B$的充要条件是$A_{1}\land A_{2}\land \dots\land  A_{n}\rightarrow B$是永真式。
- 设$A_{1},A_{2},\dots A_{n}$和$B$都是命题公式，则$A_{1},A_{2},\dots A_{n} \Rightarrow B$的充要条件是$A_{1}\land A_{2}\land \dots\land  A_{n}\rightarrow \neg B$是永假式。

*推理公式*

1. 附加律：$A\Rightarrow A\lor B$
2. 化简律：$A\land B \Rightarrow A$
3. 合取引入：$A,B\Rightarrow A\land B$
4. 析取三段论：$(A\lor B)\land \neg B\Rightarrow A$
5.$B\Rightarrow A\rightarrow B$
6.$\neg A \Rightarrow A\rightarrow B$
7. 假言推理：$(A\rightarrow B)\land A\Rightarrow B$
8. 拒取式：$(A\rightarrow B)\land \neg B\Rightarrow \neg A$
9. 假言三段论：$(A\rightarrow B)\land(B\rightarrow C)\Rightarrow A\rightarrow C$
10.$(A\leftrightarrow B)\land A \Rightarrow B$
11. 等价三段论：$(A\leftrightarrow B)\land(B\leftrightarrow C)\Rightarrow A\leftrightarrow C$

#### **1.5.2** 演绎推理方法

- 从前提开始来构造一个有限公式序列，使得这个公式序列中的最后一个公式即为结论。

**推理规则**

>**P规则**（**前提引入规则**）：在证明的任何步骤上都可以引入前提，作为公式序列中的公式。
>
>**E规则**（**置换规则**）：在证明的任何步骤上，公式序列中命题公式的子公式都可以用与之等价的公式进行置换，得到公式序列中的公式。
>
>**T规则**（**结论引入规则**）：在证明的任何步骤上都可以引入公式序列中已有公式的逻辑结论，作为公式序列中的公式。

#### **1.5.3** 附加前提法

- 将$A_{1},A_{2},L,A_{3}\Rightarrow A$的演绎推理转变为$A_{1},A_{2},L,A_{n},\neg A\Rightarrow 0$的演绎推理，这里的$\neg A$称为**附加前提**(有的书上称为**反证法**)。

### 1.6 逻辑门电路

[参见数字电路](../DigitalCircuit/note.md#第二章-数字与逻辑门)

## 第二章 谓词逻辑

### 2.1 个体词、谓词与量词

#### 2.1.1 个体词与谓词

- 在原子命题中，表示对象的词称为**个体词**；表示对象所具有的性质或多个对象之间关系的词称为谓词。
- 个体词一般是原子命题中的主语或宾语。个体词可以是具体事物，也可以是抽象的概念，例如，小王，夏天，偶数，思想等都可以作为个体词。特定的个体词称为**个体常元**，用小写字母$a ， b ， c ，\dots$或$a_{1} ，a_{2}，a_{3}，\dots$表示不确定的个体词称为**个体变元**，用小写字母$x ， y ， z ，\dots$或$x_{1} ，x_{2}，x_{3}，\dots$表示。
- **谓词**一般是原子命题中的谓语，通常用大写字母$P,Q,R$或$P_{1} ，P_{2}，P_{3}，\dots$表示。含有$n$个$(n\geq 0)$个体变元的谓词称为**$n$元谓词**，也称为**n元简单命题函数**，通常记为$P( x_{1} ，x_{2}，x_{3}，\dots ，x_{n})$。

- 它实际上是$\overbrace{D_{1}\times D_{2}\times \cdots \times D_{n}}^{n个}$到$\{0，1\}$的一个函数，其中$D_{i}$是个体变元$x_{i}$的个体域。

- 所谓个体域就是个体变元遍历的非空集合。一般地，个体域应事先给定，如果没有给定，则约定个体域是全体事物构成的集合，称为**全总个体域**。另外，以后除非特别声明，否则认为一个$n$元谓词的所有个体变元的个体域 是一样的。
- 由简单命题函数和命题连接词构成的表达式称为**复合命题函数**。
- **n元谓词**$( n\geq 0)$不是命题，只有当$n$元谓词中的全部个体变元在个体域中取定个体常元后它才成为命题，此时，谓词已经不含个体变元而只含个体常元。通常，我们将不含个体变元的谓词称为0元谓词，比如$P(a),Q(b,c),R(d,e,f)$等都是**$0$元谓词**。0元谓词是命题，命题逻辑中的命题都可表示为0元谓词，因此可将命题看成特殊的谓词。

#### 2.1.2 量词

设$D$为量词，

> “对$D$中的任意个体$x$”称为$D$上的**全称量词**，记为$\forall x$；
>
> “对$D$中的存在个体$x$”称为$D$上的**存在量词**，记为$\exists x$。

### 2.2 谓词公式及其解释

#### 2.2.1 谓词公式

- 设$D_{i}(1\leqslant i\leqslant n)$是相应于个体变元$x_{i}$的个体域，则相应于$D_{i}$的**项**是指按下列
  规则定义的符号串：

  1.$D_{i}$中的个体常元和个体变元是相应于$D_{i}$的项；
  2. 若$f$是从$D_{1}\times D_{2}\times \cdots\times D_{n}$到$D_{i}$的$n$元函数，$t_{i}(1\leqslant i\leqslant n)$是相应于$D_{i}$的项，则$f(t_{1},t_{2},t_{3},\dots,t_{n})$也是相应于$D_{i}$的项；
  3. 所有相应于$D_{i}$的项都是有限次使用1. 2. 得到的符号串。

  - 例如，设$f$和$g$分别表示一元函数和二元函数，$a$是个体常元，$x$，$y$是个体变元，则$a, x,y, f(x)， g(x, y)，g(f(x), x)，f(g(x, y))$等都是项。

- 设$P(x, x_{2}, x_{3},\dots ,x_{n})$是$n$元谓词,$t(1\leq i\leq n)$是相应于个体变元$x_{i}$的个体域
 $D_{i}$的项，则称$P(t, t_{2}, t_{3},\dots ,t_{n})$为**原子谓词公式**，简称**原子公式**。

  - 例如，设$R(x, y, z)$是三元谓词，$z，f(z)，g(x, y)$是三个项，则$R(z, f(z), g(x, y))$就是一个原子公式。

- **谓词公式**是按下列规则定义的符号串：

  1.$0$和$1$是谓词公式；
  2. 原子公式是谓词公式；
  3. 若$A，B$是谓词公式，则$\neg A，\neg B，A\land B, A\lor B, A\rightarrow B和A\leftrightarrow B$是谓词公式；
  4. 若$x$是个体变元，$A$是谓词公式，则$\forall xA$和$\exists xA$是谓词公式；
  5. 所有的谓词公式都是有限次使用1. 2. 3. 4. 得到的符号串。

- **谓词公式**是由**原子公式**、**逻辑连接词**、**量词**和**圆括号**等组成的符号串，命题逻辑中的命题公式仅是它的特例，所以命题逻辑包含于谓词逻辑之中。

- 在谓词公式$\forall xA$和$\exists xA$中，称$x$为**指导变元**，称$A$为相应量词的**辖域**或**作用域**，辖域中凡与指导变元相同的个体变元称为**约束变元**，不是约束变元的个体变元称为**自由变元**。

- **换名规则**

  1. 在谓词公式中，将某量词辖域中出现的某个**约束变元**以及对应的**指导变元**改成本辖域中未曾出现过的个体变元符号，其余部分保持不变，公式的等价性不变。
  2. 在谓词公式中，将某个**自由变元**的所有出现用其中未曾出现过的某**个体变元**符号代替，其余部分保持不变，公式的等价性不变。

#### 2.2.2 谓词公式的解释

- 谓词公式$A$的一个解释$I$由下面四个部分组成： 
  1. 非空个体域$D$；
  2. 对$A$中每个个体常元符号，指定$D$中一个固定元素；
  3. 对$A$中每个函数符号，指定一个具体的函数；
  4. 对$A$中每个谓词符号，指定一个具体的谓词。
- 只有约束变元而没有自由变元的谓词公式称为**封闭的谓词公式**。
- 设$A$是一个谓词公式，若$A$在任何解释下均为真，则称$A$为**永真式（有效式）**。
- 若$A$在任何解释下均为假，则称$A$为**永假式（矛盾式）**。若存在解释使$A$为真，则称$A$为**可满足式**。
- 设$p, p_{2},\dots ,p_{n}$是命题公式$A$中出现的$n$个命题变元，$A, A_{2},\dots ,A_{n}$是$n$个谓词公式，用$A(1\leq i\leq n)$处处代替$A$中的$P_{i}$后所得谓词公式称为$A$的**代替实例**。
  - 例如，谓词公式$P(x)\rightarrow Q(x),\forall P(x)\rightarrow \exists Q(x)$等都是命题公式$p\rightarrow q$的代替实例，
- 而$\forall x(P(x)\rightarrow Q(x))$不是$p\rightarrow  q$的代替实例。
- 永真式的代替实例是永真式，永假式的代替实例是永假式。

### 2.3 谓词公式的等价演算

- 设$A$和$B$是两个谓词公式，如果在任何解释下，$A$和$B$都有相同的真值，则称$A$和$B$等价，记为$A=B$。
- 设$A$和$B$是两个谓词公式，则$A=B$的充要条件是$A \rightarrow B$是永真式。

**量词否定律**

>设$A$是命题公式，则：
>
>1.$\neg \forall xA(x)=\exists x\neg A(x)$；
>2.$\neg \exists xA(x)=\forall \neg xA(x)$。

**量词辖域的收缩与扩展律**

> 设$A,B$是谓词公式，$B$不含个体变元$x$，则：
>
> 1.$\forall x(A(x)\land B)=\forall xA(x)\land B$；
> 2.$\forall x(A(x)\lor B)=\forall xA(x)\lor B$；
> 3.$=\exists x(A(x)\land B)=\exists xA(x)\land B$；
> 4.$\exists x(A(x)\lor B)=\exists xA(x)\lor B$。

**量词分配律**

> 设$A,B$是谓词公式，则有：
>
> 1.$\forall x(A(x)\land B(x))=\forall xA(x)\land \forall x B(x)$；
> 2.$\exists x(A(x)\lor B(x))=\exists xA(x)\lor \exists x B(x)$；

**量词交换律**

> 设$A,B$是谓词公式，则有：
>
> 1.$\forall x \forall y A(x,y)=\forall y \forall x A(x,y)$；
> 2.$\exists x \exists y A(x,y)=\exists y \exists x A(x,y)$。
>
> - ***注意！！***$\forall x \exists y A(x,y)=\exists y \forall x A(x,y)$是***错误***的!
>

**置换规则**

> 设$\phi (A)$为含有子公式$A$的谓词公式，$\phi (B)$是用公式$B$置换$\phi(A)$中
> 的$A$(不要求处处置换)所得到的谓词公式，若$A=B$,则$\phi(A)=\phi(B)$。

### 2.4 谓词公式的推理演算

#### 2.4.1 基本概念

- 设$A_{1},A_{2},\dots，A_{n}，B$是谓词公式，如果对$A_{1},A_{2},\dots，A_{n}$都取值 1的任何解释，$B$必取值1,则称由前提$A_{1},A_{2},\dots，A_{n}$到结论$B$的**推理是有效的(正确的)**，或者称$B$是
  前提$A_{1},A_{2},\dots，A_{n}$的**逻辑结论(有效结论)**，记为$A_{1},A_{2},\dots，A_{n}\Rightarrow B$$(A_{1}\land A_{2}\land \dots\land A_{n}\Rightarrow B)$。
- 设$A$，$B$是两个谓词公式，则$A= B$的充要条件是$A\Rightarrow B$且$B\Rightarrow A$。
- 设$A$，$B$是两个谓词公式，则$A\Rightarrow B$的充要条件是$A\rightarrow B$是永真式。

![image-20200318111729530](./assets/image-20200318111729530.png)

#### 2.4.2 演绎推理方法

- 前面我们说过，判断一个谓词公式是否为已知前提的逻辑结论可以使用**解释法**和**等价演算法**，但这些方法的缺陷在于不能清晰地表达其推理过程。同命题逻辑一样，下面介绍运用<u>*等价公式*</u>、<u>*推理公式*</u>和<u>*推理规则*</u>的**谓词逻辑演绎推理**方法。
- 谓词公式中含有量词使得谓词逻辑的演绎推理变得比命题逻辑的演绎推理要复杂。
- 在谓词公式的演绎推理中，为了便于推理，有时需要引进或消去量词。因此在谓词公式的演绎推理中，除了要用到**P规则**（**前提引入规则**）、**E规则**（**置换规则**）和**T规则**（**结论引入规则**）外，还要用到四条与量词有关的推理规则，它们在谓词公式的演绎推理方法中起着重要作用。

**谓词公式推理规则**

> **US规则**(**全称量词消去规则**)：$\forall xA(x)\Rightarrow A(a) \ or\ \forall xA(x)\Rightarrow A(y)$.其中，$y$不在$A(x)$中以约束变元的形式出现。
>
> **ES规则**(**存在量词消去规则**)：$\exists xA(x)\Rightarrow A(a)$。 其中，个体常元$a$是使$A(x)$为真的特定的个体常元，这就要求①a不在$A(x)$和已经推导出的公式中出现，②除$x$外，$A(x)$中无其他自由变元。
>
> **UG规则**(**全称量词引入规则**)：$A(y)\Rightarrow \forall x A(x)$。其中，$x$不在$A(y)$中以约束变元的形式出现。
>
> **EG规则**(**存在量词引入规则**)：$A(y)\Rightarrow \exists x A(x)\ or\ A(a)\Rightarrow \exists x A(x)$。其中，$x$不在$A(y)$和$A(a)$中以约束变元的形式出现。

## 第三章 集合与关系

### 3.1 集合及其运算

#### 3.1.1 基本概念

- 集合是数学中最基本的概念之一，如同几何中的点、线、面等概念一样，是不能用其他概念精确定义的原始概念。集合是什么呢？直观地说，把一些东西汇集到一起组成一个整体就叫做集合，而这些东西就是这个集合的元素或叫成员。

- 集合的表示方法通常有两种：**列举法**和**描述法**。

  > **列举法**：
  >
  > ​列举法是列出集合中的所有元素，元素之间用逗号隔开，并把它们用花括号括起来。下面是用列举法表示的集合：
  >$$\begin{align}A&=\{sun,earth,moon\} \\
  B&=\{a,b,c,\dots,z\} \\
  C&=\{1,2,3,4\dots\}
  \end{align}$$
  > ​有时列出集合中所有元素是不现实或不可能的，如上面的$B$和$C$，但只要在省略号前或后列出一定数量的元素，能使人们一看就能了解哪些元素属于这个集合就可以。

  > **描述法**：
  >
  > ​		描述法是用谓词描述出元素的公共特性，其形式为$S=\{x\vert P(x)\}$，表示$S$是使为真的$x$的全体。下面是用描述法表示的集合：
  >$$\begin{align}A&=\{x\vert x是自然数且1\le x\le100\} \\
  B&=\{x\vert x是实数且x^2-1=0\}
  \end{align}$$

介绍表示集合的有关符号和方法：

>$a\in A$：表示$a$是集合$A$中的元素，读作$a$**属于**$A$；
>
>$A\subseteq B$：表示集合$A$中的每个元素都是集合$B$中的元素，即$A$是$B$的**子集**，读作$A$**包含**于$B$，其符号化表示为$A\subseteq B\Leftrightarrow \forall x(x\subseteq A\to x\subseteq B)$；
>
>$A\supseteq B$：与$A\subseteq B$的含义相反，表示集合$B$中的每个元素都是集合$A$中的元素，即$B$是$A$的**子集**，读作$A$**包含**$B$；
>
>$A=B$：表示集合$A, B$相等，即$A=B\Leftrightarrow A\subseteq B\land B\subseteq A$，读作$A$等于$B$；
>
>$A\subset B$：表示$A\subseteq B$且$A\ne B$，即集合$A$是集合$B$的**真子集**；
>
>$A\supset B$：与$A\subset B$的含义相反，表示$A\supseteq B$且$A\ne B$,即集合$B$是集合$A$的**真子集**；
>
> 在一个具体问题中，若一个集合包含我们讨论的每一个集合，则称它是**全集**，记作$E$。
>
> 没有元素的集合叫做空集，记作$\varnothing$。

- 设$A$为集合，把$A$的全体子集构成的集合叫做$A$的**幂集**，记作$\rho (A) \; or \; 2^A$。幂集的符号化表示为
 $$\rho(A)=\{S\vert S\subseteq A\}$$
  像这种以集合为元素构成的集合，常称为集合的集合，也叫作**集族**。

#### 3.1.2 集合的运算

- 设$A, B$是两个集合，$E$是全集，则$A$与$B$的并$A\cup B$,交$A\cap B$，$A$的补$A^c$
  分别定义如下：
 $$\begin{align}
  A\cup B&=\{x|x\in A\lor x\in B\}\\
  A\cap B&=\{x|x\in A\land x\in B\}\\
  A^c&=\{x|x\in E\land x\not\in A\}
  \end{align}$$
  ​		由定义可以看出，$A\cup B$是由$A$或$B$中的元素构成的；$A\cap B$是由$A$和B中的公共元素构成的；$A^c$是由不在$A$中的其他元素构成的。

- 设$A, B$是两个集合，$A$与$B$的差$A- B$，对称差A由B定义如下：
 $$\begin{align}
  A- B&= A\cap B^c\\
  A\oplus B&=(A- B)\cup (B- A)
  \end{align}$$
  ​		由定义可以看出，$A-B$是由属于$A$但不属于$B$的元素构成的，即$A-B=\{x|x\in A\land x\in B\}$，$A\oplus B$是由属于$A$或属于$B$但不同时属于$A$和$B$的元素构成的，即$A\oplus B=\{x|(x\in A\land x\not\in B)\lor(x\in B\land x\not\in A)\}$。
  对称差运算的另一种定义是
 $$A\oplus B=(A\cup B)- (A\cap B)$$
  这两种定义是等价的。

  - eg:

    设$A=\{a,b,c\}$，$B=\{a,x,y\}$，全集$E=\{a,b,c,x,y,z\}$，则
   $$\begin{align}
    A\cup B&=\{a,b,c,x,y\}\\
    A\cap B&=\{a\}\\
    A^c&=\{x,y,z\}\\
    A-B&={b,c}\\
    A\oplus B&=\{b,c,x,y\}
    \end{align}$$

  - 并和交运算可以推广到有穷个集合上，即
   $$A_{1}\cup A_{2}\cup \dots\cup A_{n} = \{x|x\in A_{1}\lor x\in A_{2}\lor \dots\lor x\in A_{n}\}\\ 
    A_{1}\cap A_{2}\cap \dots\cap A_{n} = \{x|x\in A_{1}\land x\in A_{2}\land \dots\land x\in A_{n}\}$$

  -$A\subseteq B\Leftrightarrow A-B=\varnothing$

  -$A\cap B=\varnothing \Leftrightarrow A-B=A$

  > 以上集合之间的关系和运算可以用**文氏图**（VennDiagram）形象、直观地描述。文氏图通常用一个矩形表示全集，矩形中的点表示全集$E$中的元素
  >$E$的子集用矩形区域内的圆形区域表示，图中阴影区域表示新组成的集合。下面是一些文氏图的实例：
  >
  > <img src="./assets/image-20200325134458324.png" alt="image-20200325134458324" style="zoom:75%;" />
  >
  > 使用文氏图能够对一些问题给出简单、直观的解释，这种解释对分析问题有很大帮助。不过，文氏图只是起一种示意作用，可以启发我们发现集合之间的某些关系，但不能用文氏图来证明恒等式，因为这种证明是不严密的。

*集合的并、交、差、补等具有许多性质，下面列出这些性质中最主要的几条：*

1. 交换律：$A\cup B = B\cup A,A\cap B=B\cap A$
2. 结合律：$(A\cup B)\cup C = A\cup (B\cup C),\\(A\cap B)\cap C = A\cap (B\cap C)$
3. 分配律：$(A\cup B)\cap C = (A\cup B)\cap(A\cup C),\\(A\cap B)\cup C = (A\cap B)\cup(A\cap C),\\A-(B\cup C) = (A-B)\cap(A-C),\\A-(B\cap C) = (A-B)\cup(A-C)$
4. 等幂律：$A\cup A=A,A\cap A=A$
5. 单位律：$A \cup \varnothing =A,A \cap E=A$
6. 零律：$A\cup E=E,A\cap \varnothing = \varnothing$
7. 互补律：$A\cup A^c=E,A\cap A^c= \varnothing$
8. 双补律：$(A^c)^c=A$
9. 吸收律：$A\cup (A\cap B)=A,A\cap (A\cup B)=A$
10. 德摩根律：$(A\cup B)^c=A^c\cap B^c,(A\cap B)^c=A^c\cup B^c$

#### 3.1.3 集合的计算机表示

- **位串**是$0$个或多个字位的序列，而每个字位都有两个可能的值，即$0$或$1$，字位的这种取值来自二进制数字，因为0和1是用在数的二进制表示中的数字。**位串**是计算机表示信息的基本方式。
- 用$0$取代$1$,用$1$取代$0$，即可得到的补集的位串。

### 3.2 二元关系及其运算

#### 3.2.1 笛卡尔积

- 设$A$，$B$是两个集合，称下述集合：
 $$A\times B=\{<a, b>|a\in A\land b\in B\}$$
  为由$A，B$构成的**笛卡尔积**(**直接积**)。其中，$A\times B$中的元素$<a, b>$为**有序对**，通常称为**序偶**。特别当$A=B$时记$A\times A$为$A^2$。

- 序偶$<a, b>$具有以下性质：

  1. 当$a\not=b$时，$<a,b>\not=<b,a>$；
  2.$<a, b>=<c, d>$的充要条件是$a=c$且$b=d$。

  ​          这与第1节关于集合的讨论不同，在那里交换元素的次序是无所谓的，比如$\{a, b\}=\{b, a\}$。
  ​          显然，当集合$A, B$都是有限集时有$|A\times B|=|A|\cdot|B|$，因为对于任意的序偶$<a, b>$,元素$a$共有$|A|$种可能选择，而对于$a$的每一个选择，$b$又都有$| B|$种可能选择。

*笛卡尔积的几点性质*：

1. 不适合交换律
  $$A\times B\not=B\times A \ \ (A\not=B, A\not=\varnothing, B\not=\varnothing)$$

2. 不适合结合律
  $$(A\times B)\times C\not=A\times (B\times C)\ \ (A\not=\varnothing, B\not=\varnothing,C\not=\varnothing)$$

3. 对于并或交运算满足分配律
  $$A\times(B\cup C) = (A\times B)\cup(A\times C)\ \ \ (B\cup C)\times A = (B\times A)\cup (C\times A) \\
    A\times(B\cap C) = (A\times B)\cap(A\times C)\ \ \ (B\cap C)\times A = (B\times A)\cap (C\times A)$$

4. 若$A$或$B$中有一个为空集，则$A\times B$就是空集
  $$A\times \varnothing=\varnothing \times B =\varnothing$$

5. 若$|A| = m, |B| = n$,，则$|A\times B| = mn$

- 设$A$，$B$为任意集合，则$$
  A\times(B\cup C) = (A\times B)\cup(A\times C),(A\cup B)\times C= (A\times C)\cup(B\times C)\\
  A\times(B\cap C) = (A\times B)\cap(A\times C),(A\cap B)\times C= (A\times C)\cap(B\times C)\\
  A\times(B-C) = (A\times B)-(A\times C),(A-B)\times C= (A\times C)-(B\times C)$$

#### 3.2.2 二元关系及其表示

- ​		设$A, B$是两个集合，称笛卡儿积$A\times B$的子集为从A到B的**二元关系**或简称**关系**。

  ​		假设$R$是从$A$到$B$的关系，如果$<a, b>\in R$，称$a$与$b$之间具有关系$R$，记作$aRb$；如果$<a, b>\not\in R$，称$a$与$b$之间不具有关系$R$，记作$a\not Rb$。
  ​		$R$的定义域是属于$R$的序偶的第一个元素组成的集合，记为$dom(R)$，$R$的值域是属于$R$的序偶的第二个元素组成的集合，记为$ran(R)$。
  ​		如果$R$是集合$A$到自身的关系，即$R$是$A$的子集，则称$R$是$A$上的关系。集合
 $$
  I_{A}=\{<a, a>|a\in A\}
 $$
  是$A^2$的子集，称为**恒等关系**。空集$\varnothing$和笛卡尔积本身$A^2$也是$A^2$的子集，因而也是$A$上的关系，分别称为**空关系**和**全域关系**。

对于有限集上的二元关系，除了用上面的集合表示法外，还可以用**关系矩阵**和**关系图**进行表示。

- 设$A=\{a_{1},a_{2},\dots,a_{n}\},B=\{b_{1},b_{2},\dots,b_{n}\}$，$R$是$A$到$B$的二元关系，令
 $$y = \left\{ \begin{array}{}
  1 & \textrm{若$a_{i}Rb_{j}$}\\
  0 & \textrm{若$a_{i}\not Rb_{j}$}
  \end{array} \right.(i=1,2,\cdots,m,j=1,2,\cdots,n)$$
  则称矩阵
 $$(r_{ij})_{m\times n}=\left[ \begin{array}\ 
  r_{11} \ \   r_{12} \ \ \dots \ \  r_{1n}\\
  r_{21} \ \  r_{22} \ \ \dots \ \ r_{11}\\ 
  \ \ \vdots \ \ \ \ \  \ \vdots \ \ \ \ \ddots \ \ \  \vdots\\
  r_{m1} \ r_{m1} \ \dots \ r_{mn}
  \end{array} \right]$$
  为$R$的**关系矩阵**，记为$M_{R}$。

- 设$A=\{a_{1},a_{2},\dots,a_{n}\}$，$R$是$A$上的关系，令有向图$G=<V，E>$，其中顶点集合$V=A$，边集合$E$按如下规定：
 $$有向边<a_{i}, a_{j}>\in E\ \Leftrightarrow \  <a_{i}, a_{j}>\in R$$
  则称有向图$G$为$R$的**关系图**，记为$G_{M}$。

- eg:

  设$A={1, 2, 3, 4}$，$R=\{<1, 1>,<1, 2>,<1, 3>,<1, 4>,<2, 3>\}$，
 $S=\{<1, 1>,<1, 2>,<2, 1>,<2, 2>,<3, 3>,<4, 4>\}$都是$A$上的二元关系，则$R$和$S$的关系矩阵是

  <img src="./assets/image-20200325161352869.png" alt="image-20200325161352869" style="zoom:75%;" />

  R 和S 的关系图如图（a）和图（b）所示。

  <img src="./assets/image-20200325161428282.png" alt="image-20200325161428282" style="zoom:75%;" />

#### 3.2.3 二元关系的运算

由于关系也是集合，所以对关系也可以进行并运算、交运算、补运算、差运算、对称差运算 等集合的有关运算。

- 设$R$和$S$是从集合$A$到集合$B$的两个关系，其关系矩阵分别为$M_{R}=(r_{ij})_{m\times n},M_{S}=(s_{ij})_{m\times n}$，则关系的并运算、交运算、补运算、差运算、对称差运算为
 $$\begin{align}
  R\cup S&={<a, b>|<a, b>\in R\ \lor <a, b>\in S}\\
  R\cap S&={<a, b>|<a, b>\in R\ \land <a, b>\in S}\\
  R^c&={<a, b>|<a, b>\in A\times B\ \land <a, b>\not\in R}\\
  R-S&={<a, b>|<a, b>\in R\ \land <a, b>\not\in S}\\
  R\oplus S&=(R-S)\cup (S-R)
  \end{align}$$

- 相应的关系矩阵分别为：$M_{R\cup S}=(r_{ij}\lor s_{ij})_{m\times n}$，$M_{R\cap S}=(r_{ij}\land s_{ij})_{m\times n}$，$M_{R^c}=(\neg r_{ij})_{m\times n}$，$M_{R-S}=(r_{ij}\land\neg s_{ij})_{m\times n}$，$M_{R\oplus S}=((r_{ij}\land\neg s_{ij})\lor(s_{ij}\land\neg r_{ij}))_{m\times n}$。

除了一般的集合运算外，关系本身还具有两种特殊的运算：**复合运算**和**逆运算**。

- 设$R$是从集合$A$到集合$B$的关系,$S$是从集合$B$到集合$C$的关系,则从$A$到$C$的关系
 $$R\circ S=\{<a, c>|\exists b\in B(<a, b>\in R\ \land<b, c>\in S)\}$$
  称为R与S的**复合关系**。

- 设$R$是集合$A$上的关系，即$R$是$A$到自身的关系，则$R\circ R$是$R$与它自己的复合，通常记作$R^2$。类似地，$R^3=R^2\circ R=R\circ R\circ R$，等等。由此，对于所有的正整数$n$，我们可以定义$R^n$。$R^n$通常叫做$R$的$n$**次幂**。特别地，定义$R^0=I_{A}$为恒等关系。

- 用$M_{R}$和$M_{S}$分别表示二元关系$R$和$S$的关系矩阵，则复合关系$R\circ S$的关系矩阵$M_{R\circ S}$是$M_{R}$和$M_{S}$的积，即$M_{R\circ S}=M_{R}\times M_{S}$。与普通矩阵乘法不同的是，其中的相加是逻辑加(析取),相乘是逻辑乘(合取)，即
 $$1+1=1, 1+0=0+1=1, 0+0=0\\
  1\times1=1, 1\times0=0\times1=0, 0\times0=0$$
  而$R^2$的关系矩阵$M_{R^2}$是$M_{R}$与它本身的积，即$M_{R^2}=M^2_{R}$，类似地，对任何正整数$n$有$M_{R^n}=M^2_{n}$，特别地，$M^0_{R}=I_{n}$为$n$阶单位矩阵，它是恒等关系$R^0=I_{A}$的关系矩阵。

- 设$R$是从集合$A$到集合$B$的关系，$S$是从集合$B$到集合$C$的关系，$T$是从集合$C$到集合$D$的关系,则
 $$(R\circ S)\circ T= R\circ (S\circ T)$$

- 设$R$是集合$A$上的关系，$m,n\in N$，则

  1.$R^{m}\circ R^n= R^{m+n}$
  2.$(R^m)^n= R^{m\cdot n}$

- 设$R$是有限集合$A$上的关系，则存在自然数$s$和$t (s<t)$，使得$R^S=R^T$。

- 设$R$是从集合$A$到集合$B$的关系，则从$B$到$A$的关系
 $$R^{-1}=\{ <b, a>|<a, b>\in R \}$$
  称为$R$的**逆关系**。

  显然，逆关系是相互的，即$(R^{-1})^{-1}=R$。

  用$M_{R}$和$M_{R^{-1}}$分别表示二元关系$R$及其逆关系$R^{-1}$的关系矩阵，显然，$M_{R^{-1}}$中位置$(j, i)$上的元素为$1$当且仅当$M_{R}$中的位置$(i, j).$上的元素为$1$，所以$M_{R^{-1}}$为$M_{R}$的转置矩阵。

  - *转置矩阵*

    将矩阵$A=(a_{ij})_{m\times n}$的行取作列 (或列取作行)，可得到一个$n\times m$矩阵，称此矩阵为$A$的转置矩阵，简称$A$的转置，记为$A^T$

    ![image-20200325171550449](./assets/image-20200325171550449.png)

- 设$R$是从集合$A$到集合$B$的关系，$S$是从集合$B$到集合$C$的关系，则
 $$(R\circ S)^{-1}=S^{-1}\circ R^{-1}$$

### 3.3 二元关系的性质与闭包

#### 3.3.1 二元关系的性质

- 设$R$是$A$上的关系，若对任意的$a\in A$都有$<a,a>\in R$，则称$R$是**自反的**；若对任意的$a$都有$<a, a>\not\in R$，则称$R$是**反自反的**。
  - 一个关系可以既不是自反关系又不是反自反关系。 例如，集合$A=\{1, 2, 3\}$上的关系$R=\{<1, 1>,<1, 2>, <2, 3>\}$既不是自反的也不是反自反的。
- 设$R$是$A$上的关系，若$<a, b>\in R$，必有$<b, a>\in R$，则称$R$是**对称的**；若$<a, b>\in R，< b,a>\in R$，必有$a=b$，则称R是**反对称的**。
  - 一个关系可以既是对称的又是反对称的。例如，集合$A=\{1，2，3\}$上的关系$R=\{<l, 1>,<2, 2>,<3, 3>\}$既是对称的又是反对称的。
- 设$R$是$A$上的关系，若<$a, b>\in R, <b, c>\in R$，必有$<a, c>\in R$，则称$R$是**传递的**。

> 空关系$(R=\varnothing )$不是自反的，是反自反的，是对称的，是反对称的，是传递的。
>
> 全域关系$(R=A\times A)$是自反的，不是反自反的，是对称的，不是反对称的，是传递的。

- 设$R$是集合$A$上的关系，则

  1.$R$是自反的当且仅当$I_{A}\subseteq R$；
  2.$R$是反自反的当且仅当$R \cap I_{A}= \varnothing$；
  3.$R$是对称的当且仅当$R= R^{-1}$；
  4.$R$是反对称的当且仅当$R\cap R^{-1}\subseteq I_{A}$；
  5.$R$是传递的当且仅当$R\circ R\subseteq R$。

- 关系R的五种性质在关系矩阵和关系图中的特点

  ![image-20200401105138591](./assets/image-20200401105138591.png)

- 关系的五种性质和运算之间的联系

  ![image-20200401105245138](./assets/image-20200401105245138.png)

#### 3.3.2 二元关系的闭包

- 设$R$是集合$A$上的关系，$R$的**自反闭包**(**对称闭包**或**传递闭包**)是$A$上的关系$R’$，它满足以下条件：

  1.$R'$是自反的(对称的或传递的)；
  2.$R\subseteq R'$；
  3. 对$A$上任何包含$R$的自反(对称或传递)关系$R''$有$R'\subseteq R''$。

- 一般将$R$的自反闭包记作$r(R)$，对称闭包记作$s(R)$，传递闭包记作$t(R)$。下面的定理给出了构造闭包的方法。

  设$R$是集合$A$上的关系，则

  >$r(R)= R\cup R^0$
  >
  >$s(R)= R\cup R^{-1}$
  >
  >$t(R)=R\cup R^{2}\cup R^{3}U\cdots$

  - 推论：设R是有限集合A上的关系，A的元素个数|A|=n，则
   $$t(R)=R\cup R^{2}\cup R^{3}U\cdots\cup R^{n}$$

  > 1. *求关系的自反闭包*，就是将关系图中所有无环的顶点加上环；将关系矩阵中对角线上的值全变为$1$,即$M_{r(R)}= M_R+ I_n$，这里$I_n$是与$M_R$同阶的单位矩阵，加法是逻辑加(析取)。
  > 2. *求关系的对称闭包*，就是在关系图中，如果顶点$x_i$和$x_j$之间仅存在一条边，则添加一条方向相反的边；在关系矩阵中，若非对角线上的某个元素$r_{ij}=1(i\not=j)$，则将它关于对角线对称的另一个元素$r_{ji}$取为$1$，写成矩阵的形式就是$M_{s(R)}=M_R+M_{R}'$，这里$M_{R}'$是$M_R$的转置矩阵，加法仍然是逻辑加(析取)。
  > 3. *求关系的传递闭包*，就是在关系图中，对任意的顶点$x_i,x_j,x_k$，若有从$x_i$到$x_j$的一条边，$x_j$到$x_k$的一条边，而从$x_i$到$x_k$没有边，则添加一条从$x_i$到$x_k$的边；在关系矩阵中，若$r_{ij}=1，r_{jk}=1$，则取$r_{ik}=1$,写成矩阵的形式就是$M_{r(R)} =M_R +M_R^2 +M_R^3 +\cdots$，这里$M_R^i$是$R^i$的关系矩阵，即$M_{R^i}$，加法仍然是逻辑加(析取)。

### 3.4 等价关系与划分

- 设$R$是集合$A$上的关系，如果$R$是自反的、对称的、传递的，则称$R$是**等价关系**。设$R$是一个等价关系，若$<a,b>\in R$，称$a$等价于$b$。

- 设$R$是非空集合$A$上的等价关系，$\forall a\in A$，称
 $$
  [a]_{R}=\{x\vert x\in A \and <a, x>\in R\}
 $$
  为元素$a$关于等价关系$R$的**等价类**，简称$a$的等价类，记为$[a]$。

  - 因为R是等价关系，所以同样有$[a]_{R}=\{x\vert x\in A \land <x, a>\in R \}$。

- 设$R$是非空集合$A$上的等价关系，则

  1.$\forall a\in A$，$[a]$是$A$的非空子集；
  2.$\forall a,b\in A$，如果$aRb$，则$[a]=[b]$；
  3.$\forall a,b\in A$，如果$a\not Rb$,，则$[a]\cap [b]= \varnothing$；
  4.$\bigcup\{[a]\vert a\in A\}=A$。

- 设$A$是一个非空集合，$A_1, A_2,\dots,A_m$是它的非空子集,如果它们满足下列条件：

  1. 对所有的$i,j(i,j=1,2,\dots，m)$，如果$i\not=j$，则$A_i\cap A_j=\varnothing$；
  
  2. as
    $$\bigcup_{i=1}^m A_i = A$$
       则称集合$\pi=\{A_1, A_2,\dots,A_m\}$为$A$的一个**划分**。

- 设$R$是非空集合$A$上的等价关系，以$R$的所有等价类作为元素的集合称为$A$关于$R$的商 集，记作$A/R$，即
 $$A/R = \{[a]_R\vert a\in A \}$$

- 任给集合$A$的一个划分$m={A_1,A_2,\dots,A_m}$，定义$A$上的一个关系$R$如下：
 $$R=(A_1\times A-1)\cup(A_2\times A_2)\cup\dots\cup(A_m\times A_m)$$
  则$R$为$A$上的等价关系，且该等价关系所确定的等价类组成的商集就是$\pi=\{A_1, A_2,\dots,A_m \}$。
  由此可见，$A$上的等价关系与$A$的划分是一一对应的。

### 3.5 偏序关系与拓扑排序

#### 3.5.1 偏序关系

- 设$R$是集合$X$上的关系，如果$R$是自反的、反对称的和传递的，则称$R$是X上的**偏序关系**。偏序关系通常用符号$\preceq$表示，$<a, b>\in R$常记为$a \preceq b$,读作“a先于b”。带有偏序关系的集合$X$叫做**偏序集**，当我们需要指明时，记作$<X,\preceq>$。

 $a\prec b$意为$a\preceq b$且$a\not=b$，读作“a严格先于b”。

- 为了更直观地研究偏序关系和偏序集，可借助于**哈斯(Hass) 图**。哈斯图的画法可描述
  为：设$<X,\preceq >$是偏序集，$X$中的每个元素用节点表示，若$x, y\in X$，且$x\preceq y$，则节点$x$画于节点$y$的下面；若$x\preceq y$且$x$与$y$之间不存在另一个$z$使得$x\preceq z$和$z\preceq y$,则$x$与$y$之间用一线段连接。

- 假设$a$和$b$是偏序集$<X,\preceq>$上的两个元素。如果
 $$a\preceq b \ \ or \ \ b\prec a$$
  我们就说$a$和$b$是**可比较的**。否则就说$a$和$b$是**不可比较的**，并记作$a \parallel b$。若偏序集的每一对元 素都是可比较的，则称$X$为**全序集**，相应的偏序就称为**全序**。全序集也叫做**线性序集**或叫做**链**。 虽然偏序集可能不是全序集，但它的子集仍有可能是全序集。很明显，**全序集的每一个子集都是全序集**。

#### 3.5.2偏序集中的特殊元

- 设$<X, \prec>$是偏序集，$S$是$X$的子集，$a, b\in S$。

  > 如果$S$中没有其他元素严格先于$a$，则$a$叫做$S$的**极小元**；
  >
  > 如果$S$中没有其他元素严格后于$b$，则$b$叫做$S$的**极大元**。
  >
  > 如果对于$S$中的每一个元素$x$都有$a\prec x$，则$a$叫做$S$的**最小元**，即$a$先于S中的每-一个元素；
  >
  > 如果对于中的每一个元素$x$都有$x\prec b$，$b$叫做$S$的**最大元**，即$b$后于$S$中的每一个元素。
  >
  > 极小元、极大元、最小元、最大元的符号化表示分别为：
  >$$\begin{align}
a为S的极小元&\Leftrightarrow \forall x(x\in S\land x\preceq a\rightarrow x=a)，\\
b为S的极大元&\Leftrightarrow \forall x(x\in S\land b\preceq x\rightarrow x=b)，\\
a为S的最小元&\Leftrightarrow \forall x(x\in S\rightarrow a\preceq x)，\\
b为S的最大元&\Leftrightarrow \forall x(x\in S\rightarrow x\preceq b)。
\end{align}$$
  > 偏序集的子集$S$可以有多于一个的极小元和极大元。如果$S$是无限集合，那么$S$可能没有极小元和极大元，例如，偏序集没有极小元和极大元。如果$S$是有限集合，那么$S$一定至少有一个极小元和一个极大元。

- 设$< X,\preceq>$是偏序集，$S$是$X$的子集。如果$S$是有限集，那么$S$至少有一个极小元和一个极大元。

- 设$< X,\preceq>$是偏序集，$S$是$X$的子集。如果$S$是有限集且$a$是其唯一极小元（极大元），那么，$a$一定是$S$的最小元（最大元）。

- 设$< X,\preceq>$是偏序集，$S$是$X$的子集，$a, b\in X$。

  > 如果$a$先于$S$中的每一个元素，则$a$叫做$S$的**下界**，即对$S$中的每一个元素$x$有$a\preceq x$；$S$的所有下界组成的集合的最大元称为S的**下确界**，记作$inf(S)$。
  >
  > 类似地，如果$b$后于$S$中的每一个元素，则$b$叫做$S$的**上界**，即对$S$中的每一个元素$x$有$x\preceq b$；$S$的所有上界组成的集合的最小元称为$S$的**上确界**，记作$sup(S)$。
  >
  > 如果$S$是含有元素$a_1,a_2,\dots,a_n$的有限集，我们也将$inf(S)$和$sup(S)$记为i$nf(a_1,a_2,\dots,a_n)$和$sup(a_1,a_2,\dots,a_n)$。
  >
  > 同极小元、极大元、最小元和最大元类似，下界、上界也可以用符号化表示为
  >$$\begin{align}a为S的下届&\Leftrightarrow \forall x(x\in S\rightarrow a\preceq x)，\\b为S的上届&\Leftrightarrow \forall x(x\in S\rightarrow x\preceq b)，\\\end{align}$$


- 下界、上界、下确界和上确界都可能不存在，即使对有限集合也是这样；下界和上界可以有多个，但下确界和上确界如果存在则唯一。而且如果$a$是集合$S$的最小（大）元，则$a$也是$S$的下 （上）确界；反之，如果$a$是集合$S$的下（上）确界且$a\in S$，则$a$也是$S$的最小（大）元。

#### 3.5.3 拓扑排序

- 从一个偏序构造一个与其相容的全序的过程叫做**拓扑排序**。

- 现在来描述进行拓扑排序的执行过程。为在有限的偏序集$< X,\preceq>$上定义一个全序，首先选择一个极小元素$a_1$,则$<X-\{a_1\},\preceq>$也是偏序集。如果它是非空的，选择这个偏序集的一个极小元素$a_2$，然后再取走$a_2$，如果还有其他的元素留下来，在$X-{a_1, a_2}$中选择一个极小元素$a_3$，然后再取走$a_3$。继续这个过程，只要还有元素留下来，就在$X-\{a_1,a_2,\dots,a_k\}$中选择极小元素$a_{k+1}$。

  因为X是有穷集，所以这个过程一定会终止。最终产生一个元素序列$a_1,a_2,\dots,a_n$。所需要的全序定义为
 $$a_1Ra_2R\dots Ra_n$$

### 3.6 函数

#### 3.6.1 基本概念

- 设$f$是从$X$到$Y$的二元关系，若$f$满足：

  1. 关系$f$的定义域$dom(f)=X$；
  2.$<x, y>\in f \ \land <x, z>\in f\Rightarrow y=Z$。

  则称$f$是$X$到$Y$的**函数**，记作$f:X \rightarrow Y$。常将从$X$到$Y$的所有函数构成的集合记为$Y^X$，读作“$Y$上$X$”，符号化表示为：
 $$Y^X=\{f\vert f:X\rightarrow Y\}$$
  对于函数$f$，如果$<x, y>\in f$，则记作$y= f(x)$，并称$y$为函数$f$在$x$的值，所以$<x, y>\in f$和$y= f(x)$的意义完全相同。

  > ​     从定义可以得知，函数是一种特殊的关系，它与一般关系比较具备如下特征：
  >
  > 1. 在函数中，序偶的第一个元素一定是互不相同的，但关系中序偶的第一个元素可以相同。
  > 2. 函数是二元关系，当然也是集合。一个从$X$到$Y$的函数，它作为集合，其元素个数一定是$|X|$；但从$X$到$Y$的二元关系，作为集合，其元素个数确可以是从$0$到$|X|\times |Y|$中的任何一个正整数。
  > 3.$X\times Y$的任何子集都是从$X$到$Y$的二元关系，因此从$X$到$Y$的不同二元关系有$2^{|X|\times |Y|}$个，但从$X$到$Y$的不同函数仅有$|Y|^{|X|}$个。

- 设$f$是从$X$到$Y$的函数，若

  1. 关系$f$的值域$ran(f)=Y$，则称$f$是**满射**。
  2. 若$\forall y\in ran(f)$都存在唯一的$x\in X$，使得$f(x)=y$，则称$f$是**单射**。
  3. 若$f$既是满射又是单射，则称f是**双射**(**一一对应函数**)，所有从$X$到$Y$的双射函数组成的集合用$\hat{Y}^X$表示。

#### **3.6.2** 复合函数

- 设函数$f:X\rightarrow Y,g:Y→Z$，则$f$与$g$的复合关系$f\circ g$是从$X$到$Z$的函数，并
  且对一切的$x\in X$，有$f\circ g(x)=g(f(x))$。

- 设函数$f:X\rightarrow Y, g:Y\rightarrow Z$，称$f$与$g$的复合关系$f\circ g$为$f$与$g$的**复合函数**。由于关系的复合满足结合律，因此函数作为一种特殊的关系，其复合亦满足结合律。

- 设函数$f:X\rightarrow Y, g:Y\rightarrow Z, h:Z\rightarrow W$，则
 $$f\circ (g\circ h)=(f\circ g)\circ h$$
  但一般情况下，函数的复合是不可交换的，即$f\circ g \not=g\circ f$。

- 设函数$f:X\rightarrow Y,g:Y→Z$，则

  1. 若$f$和$g$是满射，则$f\circ g$是满射。
  2. 若$f$和$g$是单射，则$f\circ g$是单射。
  3. 若$f$和$g$是双射，则$f\circ g$是双射。

#### **3.6.3** 逆函数

- 若函数$f:X\rightarrow Y$是双射，则$f$的逆关系$f^{-1}$是从$Y$到$X$的函数，而且也是双射。
- 设$f:X\rightarrow Y$是双射函数，称$f$的逆关系$f^{-1}$为$f$的**逆函数**或**反函数**。
- 设函数$f:X\rightarrow Y,g:Y→Z$，并且$f$和$g$都是可逆的，则
  1.$(f^{-1})^{-1}=f$
  2.$(f\circ g)^{-1}=g^{-1}\circ f^{-1}$

### 3.7 集合的等势与基数

- 设$A,B$是两个集合，如果存在从$A$到$B$的双射函数，就称$A$和$B$是等势的，记作$A\sim B$。如果A和B不是等势的，则记作$A\not\sim B$。

- 设$A$和$B$都是有限集，则$A\sim B$的充要条件是$A$和$B$元素个数相等。

- 整数集$Z$与自然数集$N$等势，即$Z\sim N$,其相应的双射函数是
 $$f:Z\rightarrow N,f(x)=\left\{ \begin{array} &2x
  & x \ge 0 \\ -2x-1  & x<0
  \end{array}\right.$$

- 有理数集合Q与自然数集合N等势，但实数集合与自然数集合N不等势。

  > 一般地，我们把与有限集合等势的集合称为**有限可数集（有限可列集）**，把与自然数集合N等势的集合称为**无限可数集（无限可列集）**，把与实数集合**R** 等势的集合称为**连续集**。有限可数集和无限可数集又通称为**可数集（可列集）**，非可数集合统称为**不可数集合（不可列集合）**。

- 设想把一切集合进行分类，凡彼此等势的归于一类，不等势的归于不同的类，对于每一类集合，我们给予一个标志来度量其元素的多少，称这个标志为这类集合的**基数**。对有限集，其基数就是集合中元素的个数$n$；对于与自然数集合等势的集合，其基数用$\aleph_0$（读作“阿列夫零”）表示；对于与实数集合等势的集合，其基数用$\aleph$（读作“阿列夫”）表示。一般，集合$A$的基数，记为$Card(A)$或$｜A｜$。

-  **康托定理**：对任何非空集合$A$都有$Card(A)<Card(\rho(A))$，这里$\rho(A)$是$A$的
  幂集。

### 3.8 多元关系及其应用

#### **3.8.1** 多元关系

-$n≥2$是正整数，$A_1, A_2,\dots,A_n$是任意集合，称下述集合：
 $$A_1\times A_2\times\dots\times A_n=\{<a_1, a_2,\dots, a_n> | a_i\in A_i, i=1, 2，\dots，n\}$$
  为$A_1\times A_2\times\dots\times A_n$的**笛卡儿积**(**直接积**)。其中，$A_1\times A_2\times\dots\times A_n$的元素$<a_1, a_2,\dots, a_n>$**称为有序$n$元组**，简称 **$n$元组** 。
  显然，$<a_1, a_2,\dots, a_n>$,当且仅当$a_i=b_i(i=1,2,\dots,n)$。

- 设$A_1, A_2,\dots,A_n$是$n$个集合，称笛卡儿积$A_1\times A_2\times\dots\times A_n$的子集为以$A_1\times A_2\times\dots\times A_n$为基的 **$n$元关系** 。

## 第五章 图

### 5.1 基本概念 

#### 5.1.1 图的定义

- 一个**图**$G$是一个序偶$<V,E>$，其中，$V$是一个非空集合，$E$是$V$的$2-$元素子集的集合。 分别称$V$和$E$是图$G$的**顶点集**和**边集**，$V$中的元素是图$G$的 **顶点**$E$中的元素是图$G$的边。

  > 1. 在容易引起混淆的情况下，通常把$V$记为$V(G)$，$E$记为$E(G)$。 
  >
  > 2. 对于图$G=<V,E>$，若$|V|=p,|E|=q$，则通常称它为$(p,q)$**图**。$p$称为图$G$的**阶**。 边集$E$为空集的图称为**零图**，而$(1，0)$图称为**平凡图**。
  >
  > 3. 在图中，若边$e=(u,v)$，则称顶点$u$与顶点$v$相**邻接**；并说顶点$u$与边$e$相**关联**，顶点$v$与边$e$相**关联**；若边$e$和边$f$有一个共同的端点，则称边$e$和边$f$相**邻接**；没有边关联于它的顶点称为**孤立点**，不与其他任何边相邻接的边称为**孤立边**。 
  >
  > 4. 在图中，两端点相同的边称为**环**；两端点间的若干条边称为**平行边**；有环的图称为**带环图**， 没有环的图称为**无环图**；有平行边的图称为**多重图**；没有环也没有平行边的图，称为**简单图**。 
  >
  > 5. 任何两个不同顶点之间都有边相连的简单图叫**完全图**。具有$p$个顶点的完全图记作$K_p$。 完全图的总边数为$p(p-1)/2$。下图为$K_7$图。
  >
  >    ![image-20200429100123293](./assets/image-20200429100123293.png)
  >
  > 6. 设$G=<V,E>$是简单图且$V=V_1\cup V_2,V_1\cap V_2= \varnothing$。若$\forall (u,v)\in E$，均有$u\in V_1$且$v\in V_2$，或$v\in V_1$且$u\in V_2$，则称$G$为**二部图**。
  >
  >    若$\forall u\in V_1,v\in V_2$，均有$(u,v)\in E$，则称$G$为**完全二部图**，$|V_1|=m,|V_2|=n$时的完全二部图记作$K_{m,n}$。容易看出，完全二部图的总边数为$m\cdot n$。
  >
  > 7. 如果$(p,q)$图$G$的每条边$e_i$都赋以一个实数$w_i$作为该边的权，则称$G$为**赋权图**。赋权图常常记作$G=<V,E,W>$，其中$W=\{w_1,w_2,w_3\dots,w_q\}$，并称
  >   $$w(G)=\sum^q_{i=1}w_i$$
  >    为$G$的**总权值数**。

- 若$G=<V,E>$及$G_1=<V_1,E_1>$时两个图，满足$V_1\subseteq V,E_1\subset E$，记为$G_1\subseteq G$。若$G_1\subseteq G$且$G_1\not= G$，则称$G_1$是$G$的**真子图**。更进一步，若$G_1\subseteq G$且$E_1=\{(u,v)|u,v\in V_1\cap E\}$，则称$G_1$是$G$的由子顶点集$V_1$确定的**导出子图**。若$G_1\subseteq G$且$V_1=V$，则称$G_1$是$G$的**生成子图**。

#### 5.1.2 顶点的度

- 设$G=<V, E>, v\in V$，$E$中与$v$关联的边的条数称为$v$的**度**，记作$d(v)$。若$v$处有环，则默认每一个环与该点的关联边数为2。

  > 1. 若$d(v)$是奇数，就称$v$为**奇点**；若$d(v)$是偶数，就称$v$为**偶点**。度为1的点称为**悬挂点**，与悬挂点关联的边称为**悬挂边**。
  >
  > 2. 设$G=<V, E>$是$p$阶图，$V=\{v_1,v_2,\dots,v_p\}$，称$d(v_1),d(v_2),\dots,d(v_p)$为$G$的**度数列**。
  >
  > 3. 可以定义图的最大度$\Delta(G)$、最小度$\delta(G)$：
  >   $$\Delta(G) = max\{d(v)|v\in V\},\ \ \delta(G)= min\{d(v)|v\in V\}$$
  >    显然，对于$p$阶简单图，$\Delta(G)≤ p-1$。
  >
  > 4. 度的概念可以从一个顶点推广到一个*顶点子集*。对于图$G=<V, E>$，取$V$的一个子集$V_1$，定义边的集合
  >   $$R(V_1)=\{(u, v)|u∈V_1\land v\not\in V\land (u, v)\in E\}$$
  >    称集合$R(V_1)$的基数$|R(V_1)|$为**顶点子集$V_1$的度**。它表示在图$G$中连接点集$V_1$外部点与内部点的所有边的条数。

- **握手定理** 设$G=<V, E>$是$(p, q)$图，$V=(v_1，v_2,\dots,v_p)$，则
 $$\sum^p_{i=1}d(v_i)=2q$$
  就是说，*图中各顶点度数之和是边数的两倍*。

### 5.2 图的连通性 

#### 5.2.1 通路

-$G=<V,E>$是一个图，$G$的一个点边交替序列$(v_0，e_1，v_1，…，v_{n−1}，e_n，v_n )$称为$G$的**通路**，其中$e_i=(v_{i−1}，v_i )，i =1，2，\dots，n$。通路中边的条数称为**通路的长度**。特别地，若$v_0=v_n$，则该通路称为**回路**。

- 若通路（回路）上的边各不相同，则 称为**简单通路**（**简单回路**）；若通路上的顶点各不相同，则称为**基本通路**；若回路$(v_0，e_1，v_1，\dots，v_{n−1}，e_n，v_n )$上的顶点$v_0，v_1，\dots， v_{n−1}$各不相同，则称为**基本回路**。基本回路有时也叫做**圈**。 长为1的回路是环，长为2的回路只能由平行边生成，因而在简单图中，*回路的长度至少为3*。

  - 基本通路（回路）一定是简单通路（回路）

- 如果非零图$G$中无奇点，则$G$中必有基本回路。

- 在$p$阶图$G$中，

  1. 若顶点$v$和$w ( v≠w)$有通路相连，则$v$和$w$之间存在长度小于或等于$(p-1)$的基本通路；
  2. 若存在通过顶点v的简单回路，则一定存在通过$v$的长度小于或等于$p$的基本回路。

  - 图中两个顶点之间的通路可能不止一条，但是，必然存在长度最短的一条，即最短通路。

- 设图$G=<V, E>, u, v\in V$，顶点$u, v$之间最短通路的长度称为$u, v$之间的**距离**，记为$d(u, v)$。若$u$与$v$无通路相连，则取$d(u, v) 为\infty$。

#### 5.2.2 连通图

-$G=<V, E>$是一个图。若$u, v∈V$，$u$和$v$之间存在通路，则称$u$，$v$连通，记作$u\sim v$。若$\forall u, v\in V$，均有$u$与$v$连通，则$G$称为**连通图**，否则$G$称为**非连通图**。非连通图$G$中的极大连通子图称为$G$的**连通分图**。

- 在$p$阶简单图$G$中，若对$G$的每对顶点$u$和$v$，都有$d(u)+d(v)\geq p-1$，则$G$是连通图。

  - *推论*：在$p$阶简单图$G$中，若$\delta (G)\geq(p-1)/2$，则$G$是连通图。

- 设图$G=<V, E>$，顶点子集$V_1\subseteq V$，边子集$E_1\subseteq E$。用$G-V$表示从$G$中去掉$V_1$中所有的顶点及与之相关联的所有边所得的图，当$V_1=\{v\}$时，直接记作$G-v$；用$G-E_1$表示从$G$中去掉边子集$E_1$,中所有的边，其他不变，所得到的图，当$E_1=\{e\}$时，直接记作记作$G-e$。

- 设图$G=<V, E>$，顶点子集$V_1\subseteq V$。若$G-V_1$的连通分图数大于$G$的连通分图数，且$\forall V_2\sub V_1$，$G-V_2$的连通分图数不大于$G$的连通分图数，则称$V$是$G$的**点割集**。当$V_1=\{v\}$时，则称$v$是$G$的**割点**；

  设图$G=<V, E>$，边子集$E_1\subseteq E$。若$G- E$的连通分图数大于$G$的连通分图数，且$\forall E_2\sub E_1$的连通分图数不大于$G$的连通分图数，则称E是G的**边割集**，当$E_1=\{e\}$时，则称$e$是$G$的割边。边割集简称为**割集**，割边简称为**桥**。

  显然，若$e=(u, v)$是桥，且$d(u)>1$， 则$u$一定是割点。

- 若$v$是连通图$G=<V, E>$的顶点，则下述命题等价：

  1.$v$是$G$的割点；
  2.$G$中存在与$v$不同的两点$u，w$，使$v$在从$u$到$w$的每一条基本通路上；
  3. 存在对集合$V-\{v\}$的一个划分$\{U, W\}$,使得$\forall u\in U，w\in W，v$在从$u$到$w$的每一条基本通路上。

- 若$e$是连通图$G=<V, E>$的边，则下述命题等价：

  1.$e$是$G$的桥；
  2.$G$中存在不同的两个点$u,w$，使边$e$在从$u$到$w$的每一条基本通路上；
  3. 存在对集合$V$的一个划分$\{U，W\}$，使得$\forall u\in U，w\in W$，边$e$在从$u$到$w$的每一条基本通路上；
  4.$e$不在$G$的任一条基本回路上。

- 图$G=<V, E>$的**点连通度**$\kappa(G)$，是为了由$G$产生一个不连通图或平凡图，而需从$G$中去掉的最少顶点数。显然，
 $$\kappa(G) = min\{|V_1||V_1为G的点割集\}$$

- 图$G=<V, E>$的**边连通度**$\lambda(G)$，是为了由$G$产生一个不连通的图或平凡图，而需从$G$中去掉的最少的边数。显然，
 $$\lambda((G) = min\{|E_1||E_1为G的边割集\}$$

- 对任一图$G$，有
 $$\kappa(G)\leq\lambda(G)\leq\delta(G)$$

#### 5.2.3 图的矩阵表示

- 设$G=<V, E>$是$p$阶图，其中，$V=\{v_1，v_2,\dots,v_p\}$。$p$阶方阵$A_G =(a_{ij})_{p\times p}$称为图$G$的**邻接矩阵**，其中，元素$a_{ij}$为起点为$v_i$终点为$v_j$的边的数目。

-$(p,q)$图$G$的邻接矩阵$A_G$具有如下性质：

  1.$A_G$是对称非负整数型矩阵；
  2.$G$是简单图，当且仅当$A_G$是主对角线上元素全为$0$的$(0，1)$矩阵；
  3.$G$是完全图，当且仅当$A_G$的元素除主对角线上元素全为$0$外，其余元素全为$1$；
  4.$G$是无环图，当且仅当$A_G$主对角线上的元素全为$0$；
  5. 若$G$是无环图，则在$A_G$中，每一行元素的和等于对应顶点的度数，所有元素的和等于边个数的两倍，即$2q$。

- 设$A$为$p$阶图$G=<V, E>$的邻接矩阵，其中，$V=\{v_1，v_2,\dots,v_p\}$，则矩阵$A$的$n$次幂$A^n(n=1,2, 3,\dots)$中的元素$a^n_{ij}$等于从$v_i$到$v_j$的长度为$n$的通路的总数。

  - *推论1*：$v_i$和$v_j$之间的距离$d(v_i, v_j)$是使$A^n$中的元素$a^n_{ij}$不为零的最小正整数$n$。
  - *推论2*：$b^{(k)}_{ij}=a_{ij}+a^{(2)}_{ij}+\dots+a^{(k)}_{ij}$是图$G$中连接$v_i$到$v_j$的长度小于或等于$k$的通路的总数。

- 设$G=<V, E>$是$p$阶图，其中，$V=\{v_1，v_2,\dots,v_p\}$。$p$阶方阵$C_G=(C_{ij})_{p\times p}$称为$G$的**连通矩阵**，其中，元素
 $$c_{ij} = \left\{ \begin{array}\\1 & v_i与v_j连通 \\0 & v_i与v_j不连通\end{array}\right.$$

- 设$G=<V， E>$是$<p, q>$图，$V=\{v_1，v_2,\dots,v_p\},E=\{e_1，e_2,\dots,e_q\}$。$p\times q$阶矩阵$M_G=(m_{ij})_{p\times q}$称为$G$的**关联矩阵**，其中
 $$m_{ij} = \left\{ \begin{array}\\
  2 & e_j是环且关联v_i\\
  1 & e_j关联v_i且不是环 \\
  0 & e_j不关联v_i
  \end{array}\right$$

- 从关联矩阵$M_G$的定义,可以看出它具有如下性质：

  1. 在$M_G$中，平行边的对应列相同；

  2. 在$M_G$中，若某行元素全为$0$，则其对应的顶点为孤立点；

  3. 在$M_G$中，每一列元素之和为$2$；

  4. 在$M_G$中，第$i$行元素的和等于第$i$个顶点的度数，即
    $$\sum ^q_{j=1}m_{ij} =d(v_i)$$

  5. 在$M_G$中，所有元素的和等于边数的两倍，即
    $$\sum ^p_{i=1}\sum ^q_{j=1}m_{ij} =\sum ^p_{i=1}d(v_i)=2q$$
     这正是握手定理的内容。

### 5.3 欧拉图与哈密尔顿图 

#### 5.3.1 欧拉图(考虑边的遍历性)

- 在图(无向图或有向图)中，包含了所有边的简单通路称为**欧拉通路**，包含了所有边的 简单回路称为**欧拉回路**。具有欧拉回路的图称为**欧拉图**，具有欧拉通路而无欧拉回路的图称为**半欧拉图**。

  - eg:

    ![image-20200512214213207](./assets/image-20200512214213207.png)

    上图中，(1)e1e2e3e4e5为一条欧拉回路，为欧拉图； (2)e1e2e3e4e5为一条欧拉通路， 但图中不存在欧拉回路，为半欧拉图； (4)e1e2e3e4为一条欧拉回路，为欧拉图； (3)、 (5)、 (6)既没有欧拉回路，又没有欧拉通路。

- 若G 是非平凡的连通图，则下述命题等价：

  > 1. G 是欧拉图；
  > 2. G 中无奇点。

- 若G是非平凡的连通图，则下述命题等价：

  > 1. G 是半欧拉图；
  > 2. G 中恰有两个奇点，而且这两个奇点即是欧拉通路的起点和终点。

- 设$G=<V,E>$是$(p,q)$欧拉图（半欧拉图），一般来说，$G$中存在若干条欧拉回路 （通路），求解欧拉回路（通路）的方法也不止一种。下面介绍一种求欧拉回路（通路）的算法， 称为**Fleury算法(弗罗莱算法)**。(算法基本思想是能不走桥就不走桥)

  > 步骤1
  > 	任取$v_0\in V$（当有奇点时，v。是G的奇数度点），令$L_0=(v_0)$。
  > 步骤2
  > 	设$L_i=(v_0,e_1,v_1,e_2,\dots,e_i,v_i)$为已经选定的通路，按下述方法从集合$E-(e_1,e_2,\dots,e_i)$中选取边$e_{i+1}$。
  > 		(a)$e_{i+1}$与$v_i$关联。
  > 		(b)除非无别的边可选择，否则，$e_{i+1}$不应该为图$G-(e_1,e_2,\dots,e_i)$的桥。
  > 	如果找到$e_{i+1}$，则将$e_{i+1}$及其相关联的另一个顶点$v_{i+1}$，加入到通路$L_i$，中得到$L_{i+1}=(v_0,e_1,v_1,e_2,\dots,e_i,v_i,e_{i+1},v_{i+1})$。
  > 步骤3
  > 	重复步骤2直到找不出边为止，所得迹即是一条欧拉回路(通路)。
  > 	可以证明，按此算法最后所得$L_q=(v_0,e_1,v_1,e_2,\dots,e_q,v_q)$为一条欧拉回路 (通路)。

#### 5.3.2 哈密尔顿图(考虑点的遍历性)

- 图$G$的经过所有顶点的基本通路称为**哈密尔顿路**，经过所有顶点的基本回路称为**哈密尔顿回路**，具有哈密尔顿回路的图称为**哈密尔顿图**，具有哈密尔顿路而不具备哈密尔顿回路的图称为**半哈密尔顿图**。

  根据上面的定义，可直接得出下面结论： 

  > 1. 每个哈密尔顿图都连通且每个顶点的度数均大于等于2；
  > 2. 若一个图有哈密尔顿回路，则任何顶点所关联的边一定有两条在该哈密尔顿回路上；
  > 3. 若一个图有哈密尔顿回路，则该哈密尔顿回路上的部分边不可能组成一个未经过所有顶点的基本回路。

#### 5.3.3 旅行商问题

- 一位旅行推销员想要访问$n$个城市中每个城市恰好一次，并且返回他的出发点。他应当以什么顺序访问这些城市以便旅行总距离最短？这就是著名的**旅行商问题**。这个问题可化归为如下的图论问题：

  > 设G是一个赋权完全图，各边的权非负，且有的边的权可能为$\infty$（对应两城市之间无交通线）， 求$G$中一条最短的哈密尔顿回路。 最直截了当的求解旅行商问题的方法是检查所有可能的哈密尔顿回路并且挑选出总权值最小的。若在图中有$n$个城市，则为了求解这个问题，得检查多少条哈密尔顿回路？一旦选定了出发点， 需要检查的不同的哈密尔顿回路就有$(n-1)!/2$条，因为第二个顶点有$n-1$种选择，第三个顶点有$n-2$种选择，依此类推。

### 5.4 最短通路 

- *本节包含大量算法例题，建议查阅[第五章](@cos/Y1S2/DiscreteMathematics/%E7%AC%AC5%E7%AB%A0%E5%9B%BE_by%E5%AD%99%E5%BF%97%E6%B5%B7.pptx)进行学习。*

- 由于在一个图的两点之间若有平行边，则最短通路只需要走其中一条边即可，而且带环图的环对最短通路的求解也没有任何影响，所以本节我们假设所考虑的图是简单图。

#### 5.4.1 广义优先搜索

- 我们希望在顶点$S$和$T$之间找到一条最短通路，并求出从$S$到$T$的距离。通常的方法是：首先考虑顶点$S$，接着考虑与$S$相邻的顶点，然后考虑与这些相邻顶点相邻且未被考虑的顶点，等等。通 过记录顶点被检查的路线，就可以构造出一条从$S$到$T$的最短通路。为了求出从$S$到$T$的距离，需要 对图中被考虑的顶点做标记。比如，如果顶点$V$标记为3(U)，那么从$S$到$V$的距离为$3$，且在某条从$S$到$V$的最短通路上，$U$是$V$的前驱（即从$S$到$V$的最短通路包含边$（U，V$）。
- **广度优先搜索算法**：本算法确定图中从$S$到其他各个顶点的距离和最短通路（若$S$到这些顶 点有通路）。在这个算法中，$￡$表示已被标记的顶点的集合，顶点$A$的前驱是用来对$A$做标记的、$￡$中的一个顶点。

#### 5.4.2 Dijkstra算法(迪杰斯特拉算法)——单源最短路径问题

- 在许多应用中，需要在赋权图中寻找权最小的通路。*两个顶点之间权最小的通路*也称为最短通路，这条通路的权也称为这两个顶点之间的距离。

  然而，并不一定都会存在权最小的通路。例如，当图中存在权为负数的情况时，最小通路就可能不存在。

- 有一个计算赋权图中两顶点$S$和$T$之间距离和最短通路的算法。
> 事实上，这个算法可以同时用来找出$S$到其他所有各顶点之间的距离和最短通路。这个算法的思想是：先找出距$S$最近的顶点，接着找出距$S$第二近的顶点……，
> 依此类推。通过这种方法可以找出$S$到其他所有各顶点之间的距离。
> 此外，在确定距离时，如果把用到的顶点记录下来，那么就可以找到从$S$到任意一个顶点的最短通路。
> 这个算法归功于**迪杰斯特拉（E.Dijkstra）**，他是计算机科学的先驱之一。

#### 5.4.3 中国邮递员问题

略。

### 5.5 树 

#### 5.5.1 基本概念

- 树是保持连通图的所有顶点之间连通性的极小子图。
- 不含回路的连通图称为**树**。每个连通分图都是树的非连通图称为**林(森林)**。
- 设$G$是图，则下述命题等价：
  1.$G$是树；
  2.$G$中任意两点之间有唯一一条简单通路；
  3.$G$连通，且任何边都是桥；
  4.$G$连通，且$q=p-1$；
  5.$G$中无回路，且$q=p-1$；
  6.$G$中无回路，且在任意两个不同的顶点之间加一条边，则恰有一条基本回路。

#### 5.5.2 生成树

- 若$T$是图$G$的生成子图，且是树，则称$T$为$G$的**生成树**。$\forall e \in E(G)$，若$e$在树$T$上，则称$e$为$T$的**枝(树枝)**，否则称$e$为$T$的**弦**。称$T$的所有弦的导出子图为$T$的**余树**，余树不一定连通，也不一定不含回路。

- 设$G$为无向图： 

  1.$G$的树——$T$是$G$的子图并且是树；
  2.$G$的生成树——$T$是$G$的生成子图并且是树；
  3. 生成树$T$的树枝——$T$中的边；
  4. 生成树$T$的弦——不在$T$中的边；
  5. 生成树$T$的余树$T$——全体弦组成的集合的导出子图。

  ![image-20200520103556936](./assets/image-20200520103556936.png)

   注：余树如图中虚边所示，它不连通，同时含有回路。

- 有时把通过广度优先搜索算法构成出来的生成树称为**最短通路树（Shortest Path Tree）**。

- 图$G$具有生成树，当且仅当$G$是连通图。

- 设$T$是图$G$的生成树，则：

  1.$G$的任何回路都至少包含$T$的一一条弦。
  2. 若$e$为$T$的弦，则$G$中存在且只存在一条只含弦$e$，其余都是枝的基本回路，称为$G$的对应$T$的弦$e$的**基本回路**。

  > 推论1：若一个$(p, q)$图是连通图，则$q\geq p-1$。
  > 推论2：若T是$(p, q)$图$G$的生成树，则$T$有$p-1$条枝，$q-p+1$条弦。

- 设T是图$G$的生成树，则：

  1.$G$的任何回路都至少包含$T$的一条弦；
  2. 若$e$为$T$的弦，则$G$中存在且只存在一条只含弦$e$，其余都是枝的基本回路，称为$G$的对应$T$的弦$e$的**基本回路**。

- 设$T$是图$G$的生成树。

  1.$G$的任一割集（边割集）都至少含有$T$的一条枝。
  2. 若$e$为$T$的枝，则$G$中恰好存在一个只含枝$e$，其余都是弦的割集，称为$G$的对应$T$的枝$e$的**基本割集**。

#### 5.5.3 深度优先搜索(DFS: Depth First Search)

- 另一种求连通图生成树的算法是深度优先搜索算法。在这个算法中，用连接的整数标记顶点， 这些整数指明了遇到顶点的顺序。
> 这个算法的基本思想是：标记顶点$V$后，在寻找应紧接着做标记的顶点时，首先要考虑的顶点是与$V$相邻但还未被标记的顶点。如果有一个与$V$相邻的未被标记的顶点W，就为W指定下一个标记数
> 再从$W$开始搜索下一个要标记的顶点。如果$V$没有未被标记的相邻顶点，就沿着给$V$做标记时所走过的边后退
> 并且，如果有必要，连续后退，直到到达一个顶点，它有未被标记的相邻顶点$U$。接着为顶点$U$指定下一个标记数，并从$U$开始搜索下一个要标记的顶点。
- 深度优先算法的关键思想是：*当已经走到所能够到达的最远端时，就后退*。
- 通常，把通过深度优先搜索算法构成出来的生成树称为**深度优先搜索树（Depth-first Search Tree**。

#### 5.5.4 最小生成树

- 设$G$是赋权图，$G$的具有最小权值总和的生成树称为$G$的**最小生成树**。
- 一种寻找最小生成树的算法叫做**普里姆（Prim）**算法。该算法首先由一个顶点开始，每次循环都增加一个权值最小的边，且不形成回路，直到形成一个最小生成树。另一个找出最小生成树的算法叫做**克鲁斯卡尔（Kruskal）算法**，介绍略。
- Prim算法：求解连通赋权图$G＝<V,E,W>$的最小生成树$T$。
- Prim算法是一种贪心算法。所谓**贪心算法**，是指一类采用“局部最优”方式 的算法，它在每次循环时都只考虑如何使本次选择做到最优，而不考虑总体是否达到最优。
- Prim算法是正确的，也就是说，算法结束得到的边集〒组成的图是最小生成树。

### 5.6 平面图及图的着色

#### 5.6.1 平面图

- 将图$G$的图形画在一个曲面$S$（按平面理解即可）上，使$G$的任何两条边均不交叉，则称$G$被**嵌入曲面$S$**。可以嵌入平面的图称为**平面图**，平面图嵌入平面后得到的任何两条边均不交叉的图称为平面图的一个**平面嵌入**。

- 设$G$是平面图的一个平面嵌入。由G 的边将G 所在平面划分成若干个连通区域，每个连通区域都称为$G$的一个**面**。面积无限的区域称为**外部面**，面积有限的区域称为**内部面**。包围面的所有边组成的边界的长度称为该面的**围数**。常记外部面为$R_0$，内部面为$R_1,R_2,\dots,R_{f-1},$面$R$的围数记为$bou(R)$。

  - 显然，一个平面嵌入有唯一的外部面，其他的都是内部面。

- 设$G$是$(p, q)$连通平面图的一个平面嵌入，其面为$R_1,R_2,\dots,R_{f-1},$则这些面的围数之和等于边数的两倍，即
 $$\sum^{f-1}_{i=0}bou(R_i)=2q$$
  并称$\sum^{f-1}_{i=0}bou(R_i)$为该平面图的**总围数**，记为$bou(G)$。

- *平面图的欧拉公式*：设$G$是$(p, q)$连通平面图的一个平面嵌入，其面数为$f$，则有
 $$p-q+f=2$$

- 设$e=(u, v)$为图$G$的一条边，在$G$中增加新顶点$w$，用$(u, w)$和$(w,v)$替换原来的边$(u, v)$，这样的操作称为在$G$中**插入2度顶点**。设$w$为$G$中的一个2度顶点，$w$与$u$,$v$相邻，删除$w$及其相关联的边，增加新边$(u, v)$，这样的操作称为在G中**消去2度顶点$w$**。

- 两个图$G_1$和$G_2$，如果通过反复插入或消去2度顶点后变成同一个图，则称$G_1$和$G_2$**同胚**。

- *库拉托斯基(Kuratowski)定理* ：一个图是平面图，当且仅当它没有与$K_5$或$K_{3,3}$同胚的子图。

#### 5.6.2 图的着色

- 连通无桥平面图的平面嵌入称为**平面地图或地图**，地图的面称为**区域**。若两个区域的边界至少有一条公共边，则称这两个区域是**相邻**的。

- 对地图$G$的每个区域涂上一种颜色，使相邻的区域涂不同的颜色，称为对$G$的一种**面着色**。若能用$k$种颜色给$G$面着色，就称$G$是**k面可着色的**。若$G$是$k$面可着色的，但不是$k−1$面可着色的，就称$G$的**面色数**为$k$，记作$\chi ^*(G)=k$。

- 对无环图$G$的每个顶点涂上一种颜色，使相邻的顶点涂不同的颜色，称为对$G$的一种**点着色**。若能用$k$种颜色给G点着色，就称$G$是$k$点可着色的。若$G$是$k$点可着色的，但不是$k-1$点可着色的，就称$G$的**点色数**为$k$，记作$\chi(G)=k$。

- *四色定理*：平面图的点色数不超过4，因而，平面图的面色数不超过4。

  > 四色定理只适用于平面图，非平面图可以有很大的色数。从点色数的定义不难看出:
  >
  > 1. 若$G$是无环图，则$\chi(G)=1$,当且仅当$G$是零图；
  > 2. 若$G$是非零无环图，则$\chi(G)=2$，当且仅当$G$为二部图；
  > 3. 完全图的点色数等于它的阶数，即$\chi(G)=p$。



## 第六章 有向图

### 6.1 有向图概述

#### 6.1.1 基本概念

- 一个**有向图D**是一个序偶$<V, E>$，其中，$V$是一个非空集合，$E$是$V$上的笛卡儿积$V\times V$的子集。分别称$V$和$E$是有向图$D$的顶点集和边集，$V$中的元素是有向图$D$的顶点，$E$中的元素是有向图$D$的有向边。

  - 从有向图的定义来看，它与（无向）图是相似的，区别在于有向图的边是有方向的，而（无向）图的边是无方向的。在有向图中，$<u, v>$和$<v, u>$表示的是两个不同的边，称为**对称边**，虽然这两条边的端点一样。如果把一个有向图$D$的每条有向边的方向去掉，得到的无向图$G$，称为$D$的**底图**。

- 设$D=<V, E>$是有向图，$v\in V$，$E$中以$v$为起始点的有向边的个数称为$v$的**出度**，记作$d^+(v)$；$E$中以$v$为终点的有向边的个数称为$v$的**入度**，记作$d^-(v)$。出度与入度之和称为$v$的**度**，记作$d(v)$。若$v$处有环，则$v$的出度和入度各增加1。在有向图$D$中，除了可以像（无向）图一样定义最大度$\Delta(D)$，最小度$\delta(D)$外，还可以定义**最大出度**、**最大入度**、**最小出度**和**最小入度**：
 $$\begin{align}
  \Delta^+(D) &= max\{d^+(v)\vert v\in V\},
  \Delta^-(D) = max\{d^-(v)\vert v\in V\},\\
  \delta^+(D) &= min\{d^+(v)\vert v\in V\},\ \
  \delta^-(D) = min\{d^-(v)\vert v\in V\},\\
  \end{align}$$

  显然，对于$p$阶简单图，$\Delta^+(G)\leq p-1，\Delta^-(G)≤p-1$。

- *有向图握手定理*：设$D=<V, E>$是$(p, q)$有向图，$V=(v_1, v_2,\dots, v_p)$，则
 $$\sum^p_{i=1}d^+(v_i)=\sum^p_{i=1}d^-(v_i)=q$$

#### 6.1.2 有向图的连通性

- 在有向图中，**通路、回路、通路的长度、简单通路、简单回路、基本通路、基本回路**等概念与无向图中相应概念非常类似，只要注意有向边方向的一致性即可。

- 设$D=<V, E>$是有向图。$\forall v_i,v_j\in V$，若从$v_i$到$v_j$存在通路，则称$v_i$**可达**$v_i$，记作$v_i\rightarrow v_j$。
- 若$v_i\rightarrow v_j$，且$v_j\rightarrow v_i$，则称$v_i$与$v_j$是**相互可达**的，记作$v_i\leftrightarrow v_j$。规定v,总是可达自身的，即$v_i\leftrightarrow v_i$。

- 设$D=<V, E>$是有向图

  1. 若$\forall v_i,v_j\in V$，都有$v_i\leftrightarrow v_j$，则称$D$为**强连通的**，否则称$D$为**非强连通的**。非强连通图中的极大强连通子图称为**强连通分图**；

  2. 若$\forall v_i,v_j\in V$都有$v_i\rightarrow v_j$或$v_j\rightarrow v_i$，则称D为**单向连通的**，否则称$D$为**非单向连通的**。非单向连通图中的极大单向连通子图称为**单向连通分图**；

  3. 若$D$的底图是连通（无向）图，则称$D$是**弱连通的**，否则称$D$为**非弱连通的**。非弱连通图中的极大弱连通子图称为D的**弱连通分图**。

     显然，对于任一有向图$D$，若$D$是强连通的，则$D$一定是单向连通的：若$D$是单向连通的，则D一定是弱连通的。

- 有向图$D=<V, E>$是强连通的，当且仅当$D$中存在一条经过所有顶点的有向回路。

- 有向图$D=<V, E>$是单向连通的，当且仅当$D$中存在一条经过所有顶点的有向通路。

#### 6.1.3 有向图的矩阵表示

- 设有向图$D=<V，E>$是$p$阶图，$V={v_1, v_2,\dots,v_p}$。$p$阶方阵$A_D=(a_{ij})_{p\times p}$称为$D$的**邻接矩阵**。其中，元素$a_{ij}$为从顶点$v_i$到$v_j$的有向边的数目，即$a_{ij}=|R_{ij}|,R_{ij}=\{<v_i, v_j><v_i, v_j>\in E\}$。

- 设有向图$D=<V, E>$是$p$阶图，其中，$V={v_1, v_2,\dots,v_p}$。$p$阶方阵$C_D=(c_{ij})_{p\times p}$称为$D$的可达矩阵，元素
 $$c_{ij} = \left\{ \begin{array}\\
  0 & v_i可达v_j\\
  1 & v_i不可达v_j
  \end{array}\right.$$

- 设无环有向图$D=<V, E>$是$<p, q>$图，$V={v_1, v_2,\dots,v_p},E={e_1, e_2,\dots,e_p}$。$p\times q$阶矩阵$M_D=(m_{ij})_{p\times p}$称为有向图$D$的**关联矩阵**，其中，元素$m_{ij}$为
 $$m_{ij} = \left\{ \begin{array}\\
  1 & v_i为e_j的始点\\
  0 & v_i与e_j不关联 \\
  -1 & v_i为e_j的终点
  \end{array}\<right class=""></right>$$

  > 有向图的关联矩阵有如下性质:
  >
  > 1. 每一列的元素之和为零，从而整个矩阵的所有元素之和为零；
  > 2. 平行边所对应的列相同；
  > 3. 第$i$行中，1的个数等于$d^+(v_i)$，-1的个数等于$d^-(v_i)$；
  > 4. 矩阵中，-1的个数等于1的个数，都等于边数$q$。这正是有向图握手定理的内容；
  > 5. 若某行元素全为0，则对应的顶点为孤立点;若某列元素全为0，则对应的边为孤
  >    立边。

### 6.2 根 树

#### 6.2.1 基本概念 

- 设$T$为有向树，若*T* 中有一个顶点的入度为0，其余的顶点的入度均为1，则称$T$为**根树**。入度为0的顶点称为**根结点**，又称**树根**，入度为1的顶点称为**子结点**。出度为0的顶点称为**树叶**，出度不为0的顶点称为**分支点**。既不是树叶又不是树根的顶点称为**内点**。从树根到任意顶点$v$的路的长度称为$v$的**层数**，层数最大的顶点的层数称为**树高**。将平凡图也看成根树，称为**平凡树**。
- 设$T$为非平凡根树，$\forall v_i,v_j\in V$，若$v_i$可达$v_j$，则称$v_i$为$v_j$的**祖先结点**，$v_j$为$v_i$的**后代结点**。若$v_i$邻接到$v_j$（即$<v_i,v_j>\in E$），则称$v_i$为$v_j$的**父结点（父亲）**，$v_j$为$v_i$的**子结点（儿子）**。若$v_i,v_k$的父结点(父亲)相同，则称$v_i$与$v_k$是**兄弟**。$\forall v\in V$，称顶点$v$及其后代结点的导出子图为以$v$为根的**根子树**。
- 设$T$为非平凡根树，如果T的每个分支点至多有2个儿子，则称T为**二叉树​**；若$T$的每个分支点都恰好有2个儿子，则称$T$为**正则二叉树**。若$T$是正则二叉树，且每片树叶的层数均为树高，则称T为**完全正则二叉树（满正则二叉树）**。
- 若$T$为二叉树，$\forall v\in V(T)$， 则称$v$左边的子结点为$v$的**左子结点（左儿子）**，称$v$右边子结点为$v$的**右子结点（右儿子）**；称以$v$的左子结点为根的根子树为$v$的**左子树**，以$v$的右子结点为根的根子树为$v$的**右子树**。
- 设$T$为正则二叉树，有$p$个顶点，$p_2$个分支点，$t$片树叶，则$p=2t-1,p_2=t-1$。
- 设$T$是一个有$t$片树叶且树高为$h$的二叉树，则$h\geq log_2t$。特别地，当$T$是完全正则二叉树时，$h= log_2t$。

#### 6.2.2 二叉搜索树

- 二叉搜索树是一种二叉树，它对应于某个有序集合。有序集合里的数据都存放在二叉树的顶点之中，使得对于树中的任意顶点$v$，$v$的左子树中的任意数据都比$v$中的数据小，而$v$的右子树中的任意数据都比$v$中的数据大。 

#### 6.2.3 最优二叉树

- 设二叉树$T$有$t$片树叶$v_1, v_2,\dots,v_t$树叶的权值分别为$w_1, w_2,\dots,w_t$称$w(T)=\sum^t_{i=1}w_il(v_i)$为$T$的总权值，其中，$l(v_i)$是树叶$v_i$的层数。在所有有$t$片树叶，带权值$w_1, w_2,\dots,w_t$的二叉树中，总权值最小的二叉树称为**最优二叉树**。
- 设$\alpha_1\alpha_2\dots\alpha_{n-1}\alpha_n$为长为$n$的符号串，称子串$\alpha_1,\alpha_1\alpha_2,\dots,\alpha_1\alpha_2\dots\alpha_n$分别为该符号串的长度为$1, 2, \dots,n-1$的**前缀**。设$A=\{\beta_1, \beta_2, \dots,\beta_m\}$一个符号串集合，若对于任意的$\beta_i，\beta_j,\in A(i≠ j)$，$β_i,β_j$互不为前缀，则称$A$为**前缀码**，其中的$\beta_i$称为**码子**。若码子$\beta_i=1, 2,\dots,m)$中只出现0，1两个符号，则称$A$为**二元前缀码**。

